# Comparing `tmp/viqi_api-0.6.4.2-py3-none-any.whl.zip` & `tmp/viqi_api-0.6.4.3-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,23 +1,23 @@
-Zip file size: 62448 bytes, number of entries: 21
--rw-rw-rw-  2.0 unx      417 b- defN 23-Apr-11 23:03 vqapi/README.md
--rw-r--r--  2.0 unx      276 b- defN 23-Apr-11 23:03 vqapi/__init__.py
--rw-r--r--  2.0 unx     1746 b- defN 23-Apr-11 23:03 vqapi/blockable_module.py
--rw-r--r--  2.0 unx    28745 b- defN 23-Apr-11 23:03 vqapi/bqclass.py
--rw-r--r--  2.0 unx     1595 b- defN 23-Apr-11 23:03 vqapi/casauth.py
--rw-r--r--  2.0 unx     6106 b- defN 23-Apr-11 23:03 vqapi/cmd.py
--rw-r--r--  2.0 unx    50118 b- defN 23-Apr-11 23:03 vqapi/comm.py
--rw-r--r--  2.0 unx    14598 b- defN 23-Apr-11 23:03 vqapi/exception.py
--rw-r--r--  2.0 unx    61279 b- defN 23-Apr-11 23:03 vqapi/services.py
--rw-r--r--  2.0 unx    13926 b- defN 23-Apr-11 23:03 vqapi/util.py
--rw-r--r--  2.0 unx      165 b- defN 23-Apr-11 23:03 vqapi/version.py
--rw-r--r--  2.0 unx    33507 b- defN 23-Apr-11 23:03 vqapi/vqclass.py
--rw-r--r--  2.0 unx    11337 b- defN 23-Apr-11 23:03 vqapi/vqquery.py
--rw-r--r--  2.0 unx     4604 b- defN 23-Apr-11 23:03 vqapi/xmldict.py
--rw-rw-rw-  2.0 unx        8 b- defN 23-Apr-11 23:03 vqapi/RequestsMonkeyPatch/__init__.py
--rw-rw-rw-  2.0 unx      138 b- defN 23-Apr-11 23:03 vqapi/RequestsMonkeyPatch/monkeypatch.py
--rw-rw-rw-  2.0 unx     2010 b- defN 23-Apr-11 23:03 vqapi/RequestsMonkeyPatch/requests_patch.py
--rw-r--r--  2.0 unx     1509 b- defN 23-Apr-11 23:03 viqi_api-0.6.4.2.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Apr-11 23:03 viqi_api-0.6.4.2.dist-info/WHEEL
--rw-r--r--  2.0 unx        6 b- defN 23-Apr-11 23:03 viqi_api-0.6.4.2.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     1624 b- defN 23-Apr-11 23:03 viqi_api-0.6.4.2.dist-info/RECORD
-21 files, 233806 bytes uncompressed, 59858 bytes compressed:  74.4%
+Zip file size: 62536 bytes, number of entries: 21
+-rw-rw-rw-  2.0 unx      417 b- defN 23-Apr-13 00:12 vqapi/README.md
+-rw-r--r--  2.0 unx      276 b- defN 23-Apr-13 00:12 vqapi/__init__.py
+-rw-r--r--  2.0 unx     1746 b- defN 23-Apr-13 00:12 vqapi/blockable_module.py
+-rw-r--r--  2.0 unx    28745 b- defN 23-Apr-13 00:12 vqapi/bqclass.py
+-rw-r--r--  2.0 unx     1595 b- defN 23-Apr-13 00:12 vqapi/casauth.py
+-rw-r--r--  2.0 unx     6106 b- defN 23-Apr-13 00:12 vqapi/cmd.py
+-rw-r--r--  2.0 unx    50330 b- defN 23-Apr-13 00:12 vqapi/comm.py
+-rw-r--r--  2.0 unx    14598 b- defN 23-Apr-13 00:12 vqapi/exception.py
+-rw-r--r--  2.0 unx    61496 b- defN 23-Apr-13 00:12 vqapi/services.py
+-rw-r--r--  2.0 unx    13926 b- defN 23-Apr-13 00:12 vqapi/util.py
+-rw-r--r--  2.0 unx      165 b- defN 23-Apr-13 00:12 vqapi/version.py
+-rw-r--r--  2.0 unx    33507 b- defN 23-Apr-13 00:12 vqapi/vqclass.py
+-rw-r--r--  2.0 unx    11337 b- defN 23-Apr-13 00:12 vqapi/vqquery.py
+-rw-r--r--  2.0 unx     4604 b- defN 23-Apr-13 00:12 vqapi/xmldict.py
+-rw-rw-rw-  2.0 unx        8 b- defN 23-Apr-13 00:12 vqapi/RequestsMonkeyPatch/__init__.py
+-rw-rw-rw-  2.0 unx      138 b- defN 23-Apr-13 00:12 vqapi/RequestsMonkeyPatch/monkeypatch.py
+-rw-rw-rw-  2.0 unx     2010 b- defN 23-Apr-13 00:12 vqapi/RequestsMonkeyPatch/requests_patch.py
+-rw-r--r--  2.0 unx     1509 b- defN 23-Apr-13 00:12 viqi_api-0.6.4.3.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Apr-13 00:12 viqi_api-0.6.4.3.dist-info/WHEEL
+-rw-r--r--  2.0 unx        6 b- defN 23-Apr-13 00:12 viqi_api-0.6.4.3.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     1624 b- defN 23-Apr-13 00:12 viqi_api-0.6.4.3.dist-info/RECORD
+21 files, 234235 bytes uncompressed, 59946 bytes compressed:  74.4%
```

## zipnote {}

```diff
@@ -45,20 +45,20 @@
 
 Filename: vqapi/RequestsMonkeyPatch/monkeypatch.py
 Comment: 
 
 Filename: vqapi/RequestsMonkeyPatch/requests_patch.py
 Comment: 
 
-Filename: viqi_api-0.6.4.2.dist-info/METADATA
+Filename: viqi_api-0.6.4.3.dist-info/METADATA
 Comment: 
 
-Filename: viqi_api-0.6.4.2.dist-info/WHEEL
+Filename: viqi_api-0.6.4.3.dist-info/WHEEL
 Comment: 
 
-Filename: viqi_api-0.6.4.2.dist-info/top_level.txt
+Filename: viqi_api-0.6.4.3.dist-info/top_level.txt
 Comment: 
 
-Filename: viqi_api-0.6.4.2.dist-info/RECORD
+Filename: viqi_api-0.6.4.3.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## vqapi/comm.py

```diff
@@ -374,28 +374,30 @@
         self.bisque_root = None
         self.factory = BQFactory(self)
         self.dryrun = False
         self.delete_mex = None
         self.delete_build = None
         self.service_map = {}
         self.cmdline = None
+        self.parse_args = None
 
     # Pickle protocol
     def __getstate__(self):
         return (
             self.bisque_root,
             self.c.cookies["mex_session"],
             self.service_map,
             self.parse_args,
         )
 
     def __setstate__(self, tple):
         self.bisque_root = tple[0]
         self.c = BQServer()
         self.c.cookies["mex_session"] = tple[1]
+        self.c.root = self.bisque_root
         self.service_map = tple[2]
         self.parse_args = tple[3]
         self.factory = BQFactory(self)
         self.setup_retry()
 
     def copy(self):
         return pickle.loads(pickle.dumps(self))
@@ -610,17 +612,19 @@
         provided in the token) (default: None)
         @param: bisque_root - the root of the bisque system the user is trying to access (bisque_root: None)
 
         @return self
         """
         if bisque_root is None:
             # This assumes that bisque_root is http://host.org:port/
-            mex_tuple = list(urllib.parse.urlparse(mex_url))
-            mex_tuple[2:5] = "", "", ""
-            bisque_root = urllib.parse.urlunparse(mex_tuple)
+            # mex_tuple = list(urllib.parse.urlparse(mex_url))
+            # mex_tuple[2:5] = "", "", ""
+            # bisque_root = urllib.parse.urlunparse(mex_tuple)
+            o = urllib.parse.urlparse(mex_url)
+            bisque_root = o._replace(path='', params='', query='', fragment='').geturl()
 
         self.bisque_root = bisque_root
         self.c.root = bisque_root
         self.c.authenticate_mex(token, user=user)
         self.setup_retry()
         self._load_services()
         self.mex = self.fetchxml(mex_url, view="deep")
```

## vqapi/services.py

```diff
@@ -208,17 +208,22 @@
 #### would be cool to have service definition language to make these.
 #### TODO more service, renders etc.
 
 
 class BaseServiceProxy:
     def __init__(self, session, service_url, timeout=DEFAULT_TIMEOUT):
         self.session = session
-        self.service_url = service_url
+        self.service_url = service_url #if isinstance(service_url, str) else service_url.service_url
         self.timeout = timeout
 
+    def __str__(self):
+        if isinstance(self.service_url, str):
+            return self.service_url
+        return self.service_url.service_url
+
     def construct(self, path, params=None):
         url = self.service_url
         if params:
             path = f"{path}?{urllib.parse.urlencode(params)}"
         if path:
             url = urllib.parse.urljoin(str(url), str(path))
         return url
@@ -238,15 +243,15 @@
             path = "/".join(path)
 
         if path and path[0] == "/":
             path = path[1:]
         if path:
             path = urllib.parse.urljoin(str(self.service_url), str(path))
         else:
-            path = self.service_url
+            path = str(self.service_url)
 
         # no longer in session https://github.com/requests/requests/issues/3341
         timeout = kw.pop("timeout", self.timeout)
         headers = kw.pop("headers", self.session.c.headers)
         data = kw.get("data")
         if isinstance(data, str):  # hacky way to guess content type
             data = data.lstrip()
```

## vqapi/version.py

```diff
@@ -1,4 +1,4 @@
 # file generated by setuptools_scm
 # don't change, don't track in version control
-__version__ = version = '0.6.4.2'
-__version_tuple__ = version_tuple = (0, 6, 4, 2)
+__version__ = version = '0.6.4.3'
+__version_tuple__ = version_tuple = (0, 6, 4, 3)
```

## Comparing `viqi_api-0.6.4.2.dist-info/METADATA` & `viqi_api-0.6.4.3.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: viqi-api
-Version: 0.6.4.2
+Version: 0.6.4.3
 Summary: ViQi Bisque Module API
 Author: ViQi Inc
 Author-email: info@viqi.org
 Project-URL: homepage, https://www.viqi.org
 Classifier: Programming Language :: Python :: 3
 Classifier: Programming Language :: Python :: 3.8
 Classifier: Programming Language :: Python :: 3.10
```

## Comparing `viqi_api-0.6.4.2.dist-info/RECORD` & `viqi_api-0.6.4.3.dist-info/RECORD`

 * *Files 11% similar despite different names*

```diff
@@ -1,21 +1,21 @@
 vqapi/README.md,sha256=7DM5QUu1mXfOR14RhMMZs1pJcr5GeWoCl68zOkryzZs,417
 vqapi/__init__.py,sha256=F9hkh1APw6yKTSqAepWKLgf-GJpT-TB0JibG1Fb-MxA,276
 vqapi/blockable_module.py,sha256=zMeKq_h2TZLGAvnvuJbf9K0LdzWHNjs_iRdRaB81f8M,1746
 vqapi/bqclass.py,sha256=wJWMdfULDka_6ts2QMFolcsTmXEcYT6F66Ssd7Zf9bQ,28745
 vqapi/casauth.py,sha256=dCmb2VzoyEeo2OL6ffbEutrsmen_ES5hN896TGd5WMw,1595
 vqapi/cmd.py,sha256=YJBN0GkqC9pTPKM_HR-zG8tkAHfwUvQP4ahB7Tau69w,6106
-vqapi/comm.py,sha256=bL70akb44eMsti-PrK92DFR8TCHiI2oge0V2E4EgjfU,50118
+vqapi/comm.py,sha256=Xkmt0Ku5nqTiSzPWdvobDPxfXhBFb-DQkotTa0YUE-M,50330
 vqapi/exception.py,sha256=3gBTtX8YBJwEpTZC-xIh0P1GAcFvRFZmw7aZigcAOe4,14598
-vqapi/services.py,sha256=HRs5hIzrqv1xDGiBHRaJY4EBFZLn9g1-Z8ch-Usgy_M,61279
+vqapi/services.py,sha256=7flyYyfzF2sCH8SBDtrUN9voyDTAo_rqfynF7J-d-Zw,61496
 vqapi/util.py,sha256=5veo8qvyT0DXj_pGg6Kq9kHQ_tGUNej_Ze5wj_l1YCA,13926
-vqapi/version.py,sha256=9pQJYTIuZ9sld-qSfqz6zFUH1miC869_jtba9qcae1U,165
+vqapi/version.py,sha256=Yu3APxVJzI_1hcI_LGEMPRA2XjC9zZ7fHSCM8d4L_ks,165
 vqapi/vqclass.py,sha256=AhA9d1liWCn69TOD-ddtPtA55Q0GEzNnTNnhZigqImo,33507
 vqapi/vqquery.py,sha256=eCj5EuzGmudAMT0yam9LsD_sJ76niSMWSsYc53ttZJc,11337
 vqapi/xmldict.py,sha256=LlALxsgBZS0Put8rRj6T4S5xMoI1h5gfZvk_bSKivec,4604
 vqapi/RequestsMonkeyPatch/__init__.py,sha256=9_8wL9Scv8_Cs8HJyJHGvx1vwXErsuvlsAqNZLcJQR0,8
 vqapi/RequestsMonkeyPatch/monkeypatch.py,sha256=Dl9WR-wicHkgxKRWZ4yXvs4RMuu9v3CSY3fBMlH3Fl0,138
 vqapi/RequestsMonkeyPatch/requests_patch.py,sha256=CsXlC4OtK1tBVE4I1_ZU75RHGSQgTuSJREqcsM4yjgs,2010
-viqi_api-0.6.4.2.dist-info/METADATA,sha256=6clgzTy1IUgJ3LXEMEGwVHFT-a4dByWa7STJRR4T2NI,1509
-viqi_api-0.6.4.2.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-viqi_api-0.6.4.2.dist-info/top_level.txt,sha256=3tj8lcUB1FkjX_EiiFuj3I18i3_LJydRRS0stEFKdJU,6
-viqi_api-0.6.4.2.dist-info/RECORD,,
+viqi_api-0.6.4.3.dist-info/METADATA,sha256=AH351Y1CxHNPw9q5GhAc8u1SqhjrQ73HDxwPJbsgQRI,1509
+viqi_api-0.6.4.3.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+viqi_api-0.6.4.3.dist-info/top_level.txt,sha256=3tj8lcUB1FkjX_EiiFuj3I18i3_LJydRRS0stEFKdJU,6
+viqi_api-0.6.4.3.dist-info/RECORD,,
```

